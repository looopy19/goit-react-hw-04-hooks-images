{"version":3,"sources":["components/services/imagesApi.js","components/Searchbar/Searchbar.jsx","components/Button/Button.jsx","components/Notification/Notification.jsx","components/Modal/Modal.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","App.js","index.js"],"names":["fetchImages","name","page","fetch","then","response","ok","json","Promise","reject","Error","Searchbar","onSubmit","useState","imageName","setImageName","reset","className","e","preventDefault","trim","alert","type","value","onChange","event","currentTarget","toLowerCase","autoComplete","autoFocus","placeholder","Button","onClick","setTimeout","window","scrollBy","top","document","documentElement","clientHeight","behavior","Notification","text","defaultProps","modalRoot","querySelector","Modal","src","alt","onClose","isFirstRender","useRef","useEffect","current","addEventListener","handleKeyDown","code","createPortal","target","ImageGalleryItem","largeImageUrl","showModal","setShowModal","toggleModal","ImageGallery","images","map","image","index","webformatURL","tags","largeImageURL","App","setPage","setImages","status","setStatus","error","setError","newImages","total","prevImages","hits","scrollTo","scrollHeight","catch","err","onClickLoadMore","handleFormSubmit","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8a3a9ca7.chunk.js","sourcesContent":["function fetchImages(name, page) {\r\n  return fetch(\r\n    `https://pixabay.com/api/?q=${name}&page=${page}&key=21770810-71d636d270901957bd723d7c5&image_type=photo&orientation=horizontal&per_page=12`\r\n  ).then((response) => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n\r\n    return Promise.reject(new Error(\"Not found. Try to change name\"));\r\n  });\r\n}\r\n\r\nexport default fetchImages;","\r\nimport { useState } from \"react\";\r\n\r\nexport default function Searchbar({ onSubmit}) {\r\n  const [imageName, setImageName] = useState('');\r\n\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (imageName.trim() === \"\") {\r\n      alert('Please enter something');\r\n      return;\r\n    }\r\n\r\n    onSubmit(imageName);\r\n    reset();\r\n  };\r\n\r\n  const reset = () => {\r\n    setImageName('');\r\n  };\r\n\r\n\r\n    return (\r\n      <header className='Searchbar'>\r\n        <form className='SearchForm' onSubmit={handleSubmit}>\r\n          <button type='submit' className='SearchForm-button'></button>\r\n          <input\r\n            value={imageName}\r\n            onChange={(event) => \r\n            setImageName(event.currentTarget.value.toLowerCase())\r\n            }\r\n            className='SearchForm-input'\r\n            type='text'\r\n            autoComplete='off'\r\n            autoFocus\r\n            placeholder='Search images and photos'\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n}","function Button({ onClick }) {\r\n  const scroll = () => {\r\n    onClick();\r\n    setTimeout(() => {\r\n      window.scrollBy({\r\n        top: document.documentElement.clientHeight - 130,\r\n        behavior: \"smooth\",\r\n      });\r\n    }, 500);\r\n  };\r\n\r\n  return (\r\n    <button onClick={scroll} className='Button' type='button'>\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default Button;","import React from \"react\";\r\nfunction Notification({ text }) {\r\n  return <p> {text} </p>;\r\n}\r\n\r\nNotification.defaultProps = {\r\n  text: \"Something went wrong, please enter query properly\",\r\n};\r\n\r\nexport default Notification;","import { useEffect, useRef } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nfunction Modal({ src, alt, onClose}) {\r\n \r\n  const isFirstRender = useRef(true);\r\n\r\n  useEffect(() => {\r\n    if (isFirstRender.current) {\r\n      window.addEventListener('keydown', handleKeyDown);\r\n    }\r\n  });\r\n\r\n   const handleKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  const handleBackdropClick = (event) => {\r\n    if (event.currentTarget === event.target) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n\r\n    return createPortal(\r\n      <div className='Overlay' onClick={handleBackdropClick}>\r\n        <div className='Modal'>\r\n          <img src={src} alt={alt} />\r\n        </div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n}\r\n\r\nexport default Modal;","import { useState } from \"react\";\r\nimport Modal from \"../Modal/Modal\";\r\n\r\nfunction ImageGalleryItem({ src, alt, largeImageUrl}) {\r\n  const [showModal, setShowModal] = useState(false);\r\n  const toggleModal = () => setShowModal(!showModal);\r\n\r\n\r\n    return (\r\n      <li className='ImageGalleryItem'>\r\n        <img\r\n          onClick={toggleModal}\r\n          src={src}\r\n          alt={alt}\r\n          className='ImageGalleryItem-image'\r\n        />\r\n        {showModal && (\r\n          <Modal onClose={toggleModal} src={largeImageUrl} alt={alt} />\r\n        )}\r\n      </li>\r\n    );\r\n}\r\n\r\nexport default ImageGalleryItem;","\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\n\r\nfunction ImageGallery({ images }) {\r\n  return (\r\n    <ul className='ImageGallery'>\r\n      {images.map((image, index) => (\r\n        <ImageGalleryItem\r\n          key={index}\r\n          src={image.webformatURL}\r\n          alt={image.tags}\r\n          largeImageUrl={image.largeImageURL}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n\r\nexport default ImageGallery;","import { useState, useEffect } from \"react\";\n\nimport \"./App.css\";\nimport Loader from 'react-loader-spinner';\nimport fetchImages from './components/services/imagesApi'\nimport Searchbar from \"./components/Searchbar/Searchbar\";\nimport Button from \"./components/Button/Button\";\nimport Notification from \"./components/Notification/Notification\";\nimport ImageGallery from './components/ImageGallery/ImageGallery.jsx';\n\n\nexport default function App() {\n  const [imageName, setImageName] = useState('');\n  const [page, setPage] = useState(1);\n  const [images, setImages] = useState([]);\n  const [status, setStatus] = useState('idle');\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    if (!imageName) return;\n\n    setStatus(\"pending\");\n\n    fetchImages(imageName, page)\n      .then((newImages) => {\n        if (newImages.total > 0) {\n          setImages((prevImages) => [...prevImages, ...newImages.hits]);\n          setStatus(\"resolved\");\n          page > 1 &&\n            window.scrollTo({\n              top: document.documentElement.scrollHeight,\n              behavior: \"smooth\",\n            });\n        } else return Promise.reject(new Error(\"Invalid request\"));\n      })\n      .catch((err) => {\n        setError(err);\n        setStatus(\"rejected\");\n      });\n  }, [imageName, page, setImages]);\n  \n  const onClickLoadMore = () => setPage((page) => page + 1);\n\n  const handleFormSubmit = (value) => {\n    setImageName(value);\n    setPage(1);\n    setImages([]);\n  };\n\n  \n\n  switch (status) {\n    case 'idle':\n      return (\n        <div>\n          <Searchbar onSubmit={handleFormSubmit} />\n        </div>\n      );\n    case 'pending':\n      return (\n        <div>\n          <Searchbar onSubmit={handleFormSubmit} />\n          <ImageGallery images={images} />\n          <Loader />\n          <Button onClick={onClickLoadMore} />\n        </div>\n      );\n      case \"resolved\":\n      return (\n        <div>\n          <Searchbar onSubmit={handleFormSubmit} />\n          <ImageGallery images={images} />\n          <Button onClick={onClickLoadMore} />\n        </div>\n      );\n    case 'rejected':\n      return (\n        <div>\n          <Searchbar onSubmit={handleFormSubmit} />\n          <Notification text={error.text} />\n        </div>\n      );\n    \n    default:\n      return (\n        <div>\n        <Searchbar onSubmit={handleFormSubmit} />\n        </div>\n      );\n  }\n}\n    \n  \n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}